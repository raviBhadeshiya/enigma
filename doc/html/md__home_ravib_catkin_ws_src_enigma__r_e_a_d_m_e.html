<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Enigma: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Enigma
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__home_ravib_catkin_ws_src_enigma__r_e_a_d_m_e.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/raviBhadeshiya/enigma"></a> [</p><div class="image">
<object type="image/svg+xml" data="https://img.shields.io/packagist/l/doctrine/orm.svg" alt="Packagist"></object>
</div>
<p>](LICENSE) </p><h1>enigma</h1>
<p>One of the big tech topics of 2017 is automation−whether and how robots can replace or augmentwork done by humans. In order to do the kind of work a human security guard would normally do,the robot should use cameras, sensors, navigation equipment, and electric motors−all packed intoits dome-shaped body with a big rechargeable battery and a computer. The autonomous guidancesystem allows the robot to store its cruise route and move automatically without an operator. It is based on the input video camera and other sensors; allowing the UGV to follow the path accurately,detect and avoid the obstacles. The package present real time indoor security device we call Enigma! The robotics system using TurtlBot to perform a surveillance of a virtual environment generated by 3D Gazebo simulator. This system performs an indoor surveillance byperforming SLAM and video processing, in order to ensure that any possible ananomly is detected by the color of an object such as Red or Green colored cylinder.</p>
<p>The system will 3D-map an unknown environment. While 3D-mapping the unknown environment, the bot will perform patrol by running the detection node to find the ananomly such as red-colored cylinder object. There is be custom world with red and green colored cylinders. The detection algorithm is very naive such as transform image to HSV space, then thresholding and region detection for the object (red colored cylinder).Then object count is publish on the "\detection" topic and user will get notified by info message. Please check below:</p>
<div class="image">
<img src="result/output/Detection.png" alt="alt-text"/>
</div>
<h5>Output with 3D-mapping</h5>
<div class="image">
<img src="result/output/final_ouput.png" alt="alt-text"/>
</div>
<h2>Dependency</h2>
<ul>
<li><a href="http://wiki.ros.org/ROS/Installation">ROS Kinetic</a> on Ubuntu 16.04</li>
<li><a href="http://gazebosim.org/">Gazebo</a></li>
<li><a href="http://wiki.ros.org/Robots/TurtleBot">TurtleBot</a></li>
<li><a href="http://wiki.ros.org/octomap">octomap</a></li>
</ul>
<p>## Standard install via command-line </p><div class="fragment"><div class="line">$ mkdir -p ~/catkin_ws/src</div><div class="line">$ cd ~/catkin_ws/</div><div class="line">$ catkin_make</div><div class="line">$ source devel/setup.bash</div><div class="line">$ cd src/</div><div class="line">$ git clone --recursive https://github.com/raviBhadeshiya/enigma.git</div><div class="line">$ cd ..</div><div class="line">$ catkin_make</div></div><!-- fragment --><p> &gt;NOTE: Missing dependency can be added via following command but highly encourage to install sepratly!</p>
<div class="fragment"><div class="line">~/catkin_ws$ rosdep install --from-paths src --ignore-src --rosdistro kinetic -y</div></div><!-- fragment --><p> However for octomap installation follow the tutorial:<a href="http://wiki.ros.org/octomap">link</a> </p><hr/>
 <h2>Execution</h2>
<p>The following package can ber start with single launch file as follows: </p><div class="fragment"><div class="line">$ roslaunch enigma enigma.launch</div></div><!-- fragment --><p> &gt;Arguments: record:=true for recording rosbag file and world:=enigma/map/final_world_1 for testing custom word file.</p>
<p>&gt;Note: roslaunch will automatically start roscore if it detects that it is not already running. </p><h5>Package Interface:</h5>
<p>The following package use the rosservice to intract with package. </p><h6>Start/Stop Robot Motion</h6>
<p>To call this service, open a new terminal and type:</p>
<div class="fragment"><div class="line">$ rosservice call /robotSwitch true</div></div><!-- fragment --><p> Argument true will cause robot to start motion and false will cause robot to stop the motion. &gt;Note: After roslaunch if robot is not moving, call this service to start motion. </p><h6>Change Robot Speed</h6>
<p>If you want to change the speed of the robot,then open a new terminal and make new service call:</p>
<div class="fragment"><div class="line">$ rosservice call /robotSpeed 0.8</div></div><!-- fragment --><p> Argument will set the robot max speed to 0.8 but you can pass any valid speed between 0 to 1.0 </p><h6>Start/Stop <a class="el" href="class_detection.html" title="Class for detection. ">Detection</a></h6>
<p>To call this service, similarly open a new terminal and type: </p><div class="fragment"><div class="line">$ rosservice call /detectionSwitch true</div></div><!-- fragment --><p> Argument true will cause detection to start detection and false will cause to stop. If <a class="el" href="class_detection.html" title="Class for detection. ">Detection</a> topic is not being publishe, then call this service to start detection. </p><h6>Saving the Octomap</h6>
<p>The octomap_server loads a 3D map (as Octree-based OctoMap) and distributes it to other nodes in a compact binary format. It also allows to incrementally build 3D OctoMaps, and provides map saving in the node octomap_saver. </p><div class="fragment"><div class="line">$ rosrun octomap_server octopmap_saver -f enigma_map.ot</div></div><!-- fragment --><h4>Running the node separately</h4>
<p>&gt;Caution: Make sure turtlebot-gazebo is running.</p>
<p>Running nodes requires you have a ROS core started. A ROS core is a collection of nodes and programs that are pre-requisites of a ROS-based system. You must have a roscore running in order for ROS nodes to communicate. Open a new shell, and type: </p><div class="fragment"><div class="line">$ roscore</div></div><!-- fragment --> <h6>Node</h6>
<p>The <a class="el" href="class_enigma.html" title="Class for enigma for robot behavior. ">Enigma</a> node can be run by opening new shell, and type: </p><div class="fragment"><div class="line">$ rosrun enigma enigma_node</div></div><!-- fragment --><p> and for detection node can be run by opening new shell, and type: </p><div class="fragment"><div class="line">$ rosrun enigma detection_node</div></div><!-- fragment --> <hr/>
 <h2>Testing</h2>
<p>There are two main unit tests in this module:testing for enigma and detection. To run all testcase of this module: </p><div class="fragment"><div class="line">$ cd catkin_ws</div><div class="line">$ catkin_make run_tests</div></div><!-- fragment --><p> Or using rostest, type this command in new terminal: </p><div class="fragment"><div class="line">$ rostest enigma enigma_check.test</div><div class="line">$ rostest enigma detection_check.test</div></div><!-- fragment --> <hr/>
 <h3>Solo Iterative Process</h3>
<p>Solo Iterative process was used for developing this package and it can be observed that estimates were improved over time. For detailed spreadsheet: <a href="https://docs.google.com/spreadsheets/d/10tGs0astZB6bFPMXlLJwByrlTDJi1ZNfbLnQGZDo5Xo/edit?usp=sharing"></a></p>
<p>For sprint planning: <a href="https://docs.google.com/document/d/1hJ8q-_5HhWBHmOfXV9d_nZg0-gOeu8520EBP83TKBbI/edit?usp=sharing">Click Here</a></p>
<h3>Presentation</h3>
<p>Slides : <a href="https://docs.google.com/presentation/d/1KM6IbHGB0xqtuu0a0-CgijcBst5EShQxvior-kgVUcg/edit?usp=sharing">click here</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
